@model TaskManagementSystem.Models.Employee

@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Reset Password</title>
    <link href="~/Styles/LoginPage.css" rel="stylesheet" />
</head>
<body>
    <div class="reset-password-container">
        <h2>Reset Password</h2>
        <p>Please enter your new password below.</p>
        @using (Html.BeginForm("ResetPassword", "Account", FormMethod.Post, new { id = "resetPasswordForm" }))
        {
            @Html.AntiForgeryToken()
            <div class="form-group">
                @Html.LabelFor(m => m.Password, "New Password")
                @Html.PasswordFor(m => m.Password, new { required = "required" })
                @Html.ValidationMessageFor(m => m.Password)
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.ConfirmPassword, "Confirm Password")
                @Html.PasswordFor(m => m.ConfirmPassword, new { required = "required" })
                @Html.ValidationMessageFor(m => m.ConfirmPassword)
            </div>
            <input type="hidden" name="email" value="@ViewBag.Email" />
            <input type="hidden" name="token" value="@ViewBag.Token" />
            <button type="submit">Reset Password</button>
        }
    </div>
</body>
</html>
<script>
    // Redirect after a delay
    setTimeout(function () {
        window.location.href = '@Url.Action("Login", "Account")'; // Redirect to login page
    }, @ViewBag.RedirectTime * 1000); // Convert seconds to milliseconds
</script>

